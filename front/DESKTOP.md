# CarShareX - Desktop Application

Это версия приложения CarShareX для запуска в качестве десктоп-приложения на Linux (включая RedOS) и Windows.

## Готовые релизы

**Если вы хотите просто установить и использовать приложение**, перейдите в директорию `/releases` - там находятся готовые к использованию приложения:
- **Linux**: `.deb` (Debian/Ubuntu/RedOS) и `.rpm` (Fedora/RHEL) пакеты
- **Windows**: `.exe` файл

См. `/releases/README.md` для подробных инструкций по установке.

---

## Сборка из исходников

Следующие инструкции нужны только если вы хотите собрать приложение самостоятельно из исходного кода.

### Требования для сборки

### Системные зависимости для Linux

Перед сборкой приложения убедитесь, что установлены необходимые системные зависимости:

#### Для RedOS/Fedora/RHEL:
```bash
sudo dnf install webkit2gtk4.0-devel \
  openssl-devel \
  curl \
  wget \
  file \
  libappindicator-gtk3-devel \
  librsvg2-devel
```

#### Для Ubuntu/Debian:
```bash
sudo apt update
sudo apt install libwebkit2gtk-4.0-dev \
  build-essential \
  curl \
  wget \
  file \
  libssl-dev \
  libgtk-3-dev \
  libayatana-appindicator3-dev \
  librsvg2-dev
```

### Установка Rust

Tauri требует Rust для сборки нативной части приложения:

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env
```

## Разработка

### Запуск в режиме разработки

```bash
cd front
npm install
npm run tauri:dev
```

Приложение откроется в отдельном окне. Hot-reload работает автоматически при изменении кода.

## Сборка для продакшена

### Сборка десктоп-приложения

```bash
cd front
npm run tauri:build
```

После завершения сборки исполняемый файл будет находиться в:
- `front/src-tauri/target/release/carsharex` - исполняемый файл
- `front/src-tauri/target/release/bundle/` - пакеты для установки (deb, AppImage, и т.д.)

### Форматы для Linux

Tauri автоматически создает следующие форматы для Linux:
- **AppImage** - универсальный формат, работает на всех дистрибутивах
- **deb** - пакет для Ubuntu/Debian/RedOS (если установлен dpkg)

## Иконки приложения

**Текущее состояние**: Приложение использует иконки по умолчанию от Tauri.

Для добавления собственных иконок:

1. Подготовьте иконку в формате PNG (рекомендуется 512x512px или больше)
2. Используйте команду для генерации всех необходимых размеров:

```bash
cd front
npm run tauri icon /path/to/your/icon.png
```

Это создаст иконки всех необходимых размеров в `src-tauri/icons/` и автоматически обновит конфигурацию.

**Примечание**: В проекте есть `public/car.png`, но он на самом деле в формате JPEG. Сначала сконвертируйте его в настоящий PNG.

## Конфигурация

Основная конфигурация находится в `front/src-tauri/tauri.conf.json`:

- **productName**: Название приложения
- **version**: Версия приложения
- **identifier**: Уникальный идентификатор (формат: com.domain.app)
- **windows**: Настройки окна приложения (размер, минимальные размеры и т.д.)

## Особенности десктоп-версии

### Отличия от веб-версии

1. **Оффлайн работа**: Приложение работает без интернета (после загрузки)
2. **Нативные возможности**: Доступ к системным API через Tauri
3. **Производительность**: Использует системный WebView вместо Chrome/Electron

### Рекомендации для RedOS

RedOS основан на Fedora/RHEL, поэтому:
- Используйте AppImage для универсальной совместимости
- Или используйте .rpm пакеты (если настроить в tauri.conf.json)

## Решение проблем

### Ошибки при сборке

1. **Ошибка webkit2gtk**: Убедитесь, что установлены все системные зависимости
2. **Ошибка Rust**: Проверьте, что Rust установлен и обновлен (`rustup update`)
3. **Ошибка прав доступа**: Запускайте сборку без sudo

### Проблемы с запуском

1. **Приложение не запускается**: Проверьте логи в терминале
2. **Белый экран**: Проверьте, что API сервер доступен (если требуется)
3. **Ошибки рендеринга**: Обновите системные библиотеки webkit2gtk

## Дополнительные ресурсы

- [Документация Tauri](https://tauri.app/)
- [Tauri для Linux](https://tauri.app/v1/guides/building/linux)
- [Rust установка](https://www.rust-lang.org/tools/install)
